# VTT Transcript Cleaner

A simple Python script that processes VTT (Video Text Track) files generated by Zoom meetings by consolidating consecutive speaker utterances into a cleaner, more readable text format.

## What It Does

This script walks through directories containing VTT files, consolidates consecutive lines from the same speaker, and outputs clean text files that are much easier to read.

**Before (VTT format):**
```
1
00:00:05.000 --> 00:00:08.000
John Smith: Hello everyone, welcome to the meeting.

2
00:00:08.500 --> 00:00:12.000
John Smith: I hope you're all doing well today.

3
00:00:12.500 --> 00:00:15.000
Jane Doe: Thank you John, glad to be here.
```

**After (Clean text format):**
```
John Smith: Hello everyone, welcome to the meeting. I hope you're all doing well today.

Jane Doe: Thank you John, glad to be here.
```

## Use Cases

Perfect for cleaning up:
- Zoom meeting transcripts
- Microsoft Teams recordings  
- Google Meet transcripts
- Any VTT files with speaker identification

## Requirements

- Python 3.6 or higher
- No additional packages required (uses only Python standard library)

## Installation

1. Download the `vtt_transcript_cleaner.py` file
2. Place it in a convenient location
3. Modify the file paths in the script (see Configuration section below)

## Configuration

Before running the script, you need to update the file paths in the script to match your directory structure:

```python
# Edit these paths in the script:
base_dir = '/Path/to/Recordings and zoom transcripts/unprocessed'
processed_dir = '/Path/to/Recordings and zoom transcripts/processed'  
output_base_dir = '/Path/to/Recordings and zoom transcripts/converted_txt'
```

## Directory Structure

### Expected Input Structure
The script expects your files to be organized like this:
```
unprocessed/
├── Meeting_2024-01-15/
│   ├── recording.mp4
│   ├── transcript.vtt
│   └── other_files...
├── Meeting_2024-01-22/
│   ├── recording.mp4
│   ├── zoom_transcript.vtt
│   └── other_files...
└── ...
```

### What Happens After Processing
```
converted_txt/
├── Meeting_2024-01-15_transcript.txt
├── Meeting_2024-01-22_zoom_transcript.txt
└── ...

processed/  (folders moved here after processing)
├── Meeting_2024-01-15/
├── Meeting_2024-01-22/
└── ...
```

## Usage

1. **Configure the paths** in the script to point to your directories
2. **Run the script:**
   ```bash
   python vtt_transcript_cleaner.py
   ```
3. **Check the output** in your specified `converted_txt` directory

## How It Works

1. **Scans directories:** The script looks through all subdirectories in your `base_dir`
2. **Finds VTT files:** Locates any `.vtt` files in each subdirectory
3. **Consolidates speakers:** Combines consecutive lines from the same speaker
4. **Creates clean text:** Saves consolidated transcript as a `.txt` file
5. **Organizes folders:** Moves processed folders to the `processed` directory

## VTT File Format

The script works with VTT files that have speaker identification in this format:
```
WEBVTT

1  
00:00:05.000 --> 00:00:08.000
Speaker Name: Text content here

2
00:00:08.500 --> 00:00:12.000  
Speaker Name: More text from same speaker
```

## Output Format

The script creates text files with UTF-8 BOM encoding, with each speaker's consolidated text separated by blank lines:

```
Speaker Name: All their consecutive text combined into readable paragraphs.

Next Speaker: Their consolidated text here.
```

## Features

- ✅ **Automatic speaker consolidation** - Merges consecutive lines from same speaker
- ✅ **Batch processing** - Handles multiple folders and files automatically
- ✅ **File organization** - Moves processed folders to keep workspace clean
- ✅ **Preserves structure** - Output files named with folder + original filename
- ✅ **UTF-8 BOM support** - Ensures compatibility with various text editors
- ✅ **Simple setup** - Just modify paths and run

## Limitations

- Requires VTT files to have speaker identification (Name: text format)
- Assumes one VTT file per folder for folder moving logic
- Hardcoded file paths need manual editing
- No command-line options

## Troubleshooting

**"No such file or directory" error:**
- Check that your file paths are correct
- Make sure the directories exist
- Use forward slashes (/) in paths, even on Windows

**"Permission denied" error:**
- Ensure you have read/write permissions for the directories
- Close any files that might be open in other applications

**No VTT files processed:**
- Verify your VTT files have the `.vtt` extension
- Check that VTT files are in subdirectories of your base directory
- Ensure VTT files follow the expected format with speaker identification

## Contributing

This is a simple utility script. Feel free to:
- Fork and modify for your needs
- Submit issues if you find bugs
- Suggest improvements

## License

This project is available under the MIT License. Feel free to use and modify as needed.

## Support

If you encounter issues:
1. Double-check your file paths in the script
2. Verify your directory structure matches the expected format
3. Ensure your VTT files have speaker identification
4. Check file permissions on your directories

For bugs or feature requests, please open an issue on GitHub.